
@{
    ViewBag.Title = "Rutinas";
    Layout = "~/Views/Shared/Diseño.cshtml";
}
<style>
    @@media screen and (min-width:768px) {
        .mobile {
            width: 310px;
            height: 40px;
        }

        .imagenes {
            width: 200px;
            height: 200px;
        }
    }
</style>
<div>
    <div class="row">
        <div class="col">
            <h2 style="text-align:center">Rutina de la semana</h2>
        </div>
    </div>
    <div class="row">
        <div class="col-md-1">
            <button type="button" style="background-color:white;border:none;color:#007bff" class="btn btn-primary" data-toggle="modal" data-target="#modalinstrucciones"><u>Instrucciones</u></button>
        </div>
        <div class="col-md-3">
            <button type="button" style="background-color:white;border:none;color:#007bff" class="btn btn-primary" data-toggle="modal" data-target="#modalestiramientocalentamiento"><u>Estiramiento y calentamiento</u></button>
        </div>
    </div>
    <br />
    <div id="semana">
        <div class="row">
            <div class="col">
                <h5>Dia de la semana a entrenar</h5>
                <select class="form-control mobile" id="dias">
                    @{
                        string[] dias = { "", "Domingo", "Lunes", "Martes", "Miercoles", "Jueves", "Viernes", "Sabado" };
                        for (int i = 2; i < dias.Length; i++)
                        {
                            <option value="@i">@dias[i]</option>
                        }
                    }
                </select>
            </div>
        </div>
        <br />
        <div class="row">
            <div class="col">
                <h5>Sets</h5>
                <select class="form-control mobile" id="sets">
                    <option value="0">No hay sets asignados</option>
                </select>
            </div>
        </div>

        <div class="row">
            <div class="col">
                <div id="descripcion"></div>
            </div>
        </div>

        <hr />
        <div class="row">
            <div class="col">
                <h5>Ejercicios</h5>
                <br />
                <div id="rutinas" class="tablarutinas">
                    <div class="table-responsive">
                        <table class="table table-condensed table-striped table-hover" id="ListaEjercicios">
                            <thead>
                                <tr>
                                    <th>#</th>
                                    <th>Dia</th>
                                    <th width="100">Ejercicio</th>
                                    <th width="100">Visualizacion</th>
                                    <th width="300">Descripcion</th>
                                    <th>Series</th>
                                    <th>Repeticiones</th>
                                    <th>Set</th>
                                </tr>
                            </thead>
                            <tbody>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!---Modal de instrucciones-->
<div class="modal fade" id="modalinstrucciones" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog  modal-xl" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLabel">Instrucciones</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <div id="instruccionescasa">
                    <p> - Estirar por lo menos 5 minutos cada grupo muscular antes de todo.</p>
                    <p>- Calentar de 5 a 10 minutos antes de cada rutina de ejercicio.</p>
                    <p>- Calentamiento para la parte inferior (piernas): ejemplo hacer 20 a 25 sentadillas con tu propio peso o saltar por 2 min la cuerda descansas 1 minuto y lo vuelves hacer hasta completar los 5 a 10 minutos cuando sientas que tu cuerpo ya está sintiéndose activo.</p>
                    <p>- Calentamiento para la parte superior (brazos, espalda, hombres y pecho): ejemplo puede ser de levantamiento de pesas de 20 repeticiones con un peso super ligero de ½ kg a 1 kg como se muestra en la imagen descansas 1 minuto y lo vuelves hacer hasta completar los 5 a 10 minutos cuando sientas que tu cuerpo ya está sintiéndose activo.</p>            
                    <p>- Descanso entre ejercicios será de 1 a 2 minutos tomar agua entre descansos de 1 a 3 sorbos sin sobrepasarse.</p>
                    <p>- Lleva el cronometro de tus descansos con ayuda de un reloj para maximizar tiempos.</p>
                    <p>- Ocupar botellas de agua de 600militros en caso de no tener pesas pequeñas y de garrafas de 5 litros o 10 litros en el caso de pesas grandes.</p>
                    <p>- Cuando termines cada set apretar y contraer el musculo correspondiente que estas ejercitando por ejemplo si estas entrenando piernas al terminar tu set apretaras las piernas durante 10 segundos.</p>
                    <p>- Inhalar por la nariz y exhalar por la boca: inhalar cuando hagas el movimiento hacia arriba y exhalar cuando bajas.</p>    
                </div>
                <div class="instruccionesgym" style="display:none">

                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-danger" data-dismiss="modal">Close</button>                
            </div>
        </div>
    </div>
</div>

<!--Modal para estiramiento y calentamiento-->
<div class="modal fade" id="modalestiramientocalentamiento" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog  modal-xl" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLabel">Estiramiento y calentamiento</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <div id="calentamientocasa">
                    <h3>Estiramiento</h3>
                    <p>
                        Tiempo estimado 5 minutos, iniciar de arriba hacia abajo del cuerpo como en las siguientes
                        imágenes, realizar durante 10 segundos cada estiramiento.
                    </p>
                    <div class="row">
                        <div class="col">
                            <img src="https://superflyfit.000webhostapp.com/imagenes/estiramiento/cuelloup.gif" width="150" height="200"  />
                            <p>Cuello mirando hacia arriba</p>
                        </div>
                        <div class="col">
                            <img src="https://superflyfit.000webhostapp.com/imagenes/estiramiento/cuellodown.gif" width="150" height="200" />
                            <p>Cuello mirando hacia abajo</p>
                        </div>
                        <div class="col">
                            <img src="https://superflyfit.000webhostapp.com/imagenes/estiramiento/cuelloder.gif" width="150" height="200" />
                            <p>Cuello flexionado hacia el lado derecho</p>
                        </div>
                        <div class="col">
                            <img src="https://superflyfit.000webhostapp.com/imagenes/estiramiento/cuello.gif" width="150" height="200" />
                            <p>Cuello flexionado hacia el lado izquierdo</p>
                        </div>
                        <div class="col">
                            <img src="https://superflyfit.000webhostapp.com/imagenes/estiramiento/flexionder.gif" width="150" height="200" />
                            <p>Estiramiento de flexion torso hacia el lado lado derecho</p>
                        </div>
                        <div class="col">
                            <img src="https://superflyfit.000webhostapp.com/imagenes/estiramiento/flexionizq.gif" width="150" height="200" />
                            <p>Estiramiento de flexion torso hacia el lado lado izquierdo</p>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col">
                            <img src="https://superflyfit.000webhostapp.com/imagenes/estiramiento/pies.gif" width="150" height="200" />
                            <p>Estiramiento de flexion torso hacia las puntas de los pies con las manos</p>
                        </div>
                        <div class="col">
                            <img src="https://superflyfit.000webhostapp.com/imagenes/estiramiento/piernas.gif" width="150" height="200" />
                            <p>Estiramiento de flexion torso con piernas abiertas hacia el piso con las manos</p>
                        </div>
                        <div class="col">
                            <img src="https://superflyfit.000webhostapp.com/imagenes/estiramiento/piernaizq.gif" width="150" height="200" />
                            <p>Estiramiento de flexion de pierna con rodilla izquierda</p>
                        </div>
                        <div class="col">
                            <img src="https://superflyfit.000webhostapp.com/imagenes/estiramiento/piernader.gif" width="150" height="200" />
                            <p>Estiramiento de flexion de pierna con rodilla derecha</p>
                        </div>
                        <div class="col">
                            <img src="https://superflyfit.000webhostapp.com/imagenes/estiramiento/tobilloizq.gif" width="150" height="200" />
                            <p>Movimiento de tobillo con punta del pie izquierdo</p>
                        </div>
                        <div class="col">
                            <img src="https://superflyfit.000webhostapp.com/imagenes/estiramiento/tobilloder.gif" width="150" height="200" />
                            <p>Movimiento de tobillo con punta del pie derecho</p>
                        </div>
                    </div>

                    <br />
                    <h3>Calentamiento</h3>
                    <div class="row">
                        <div class="col">
                            <img src="https://superflyfit.000webhostapp.com/imagenes/estiramiento/hombrosc.gif" width="150" height="200" />
                            <p>Movimiento circulares con hombros</p>
                        </div>
                        <div class="col">
                            <img src="https://superflyfit.000webhostapp.com/imagenes/estiramiento/molinos.gif" width="150" height="200" />
                            <p>Movimiento circulares largos con brazos</p>
                        </div>
                        <div class="col">
                            <img src="https://superflyfit.000webhostapp.com/imagenes/estiramiento/brazosc.gif" width="150" height="200" />
                            <p>Movimiento circulares cercanos con brazos</p>
                        </div>
                        <div class="col">
                            <img src="https://superflyfit.000webhostapp.com/imagenes/estiramiento/brazosp.gif" width="150" height="200" />
                            <p>Movimiento de flexion de brazos estirados al pecho</p>
                        </div>                        
                    </div>
                    <div class="row">
                        <div class="col">
                            <img src="https://superflyfit.000webhostapp.com/imagenes/estiramiento/brazohombro.gif" width="150" height="200" />
                            <p>Movimiento de flexion de brazos estirados al hombro</p>
                        </div>
                        <div class="col">
                            <img src="https://superflyfit.000webhostapp.com/imagenes/estiramiento/muñecas.gif" width="150" height="200" />
                            <p>Movimiento de flexion de muñecas con brazos estirados</p>
                        </div>
                        <div class="col">
                            <img src="https://superflyfit.000webhostapp.com/imagenes/estiramiento/torso.gif" width="150" height="200" />
                            <p>Movimiento circular de torso</p>
                        </div>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-danger" data-dismiss="modal">Close</button>                
            </div>
        </div>
    </div>
</div>
<script type="text/javascript">
    var urlsets = '@Url.Action("GetDetalleRutinaSets", "ClientesWeb")';
    var urlejercicios = '@Url.Action("GetDetalleRutinaEjercicios", "ClientesWeb")';

    $(document).ready(function () {
        Getsets();
    });

    function GymOrHome() {
        var gymocasa = "";
        //si es 1 es en casa si es 2 es en gym
        if (gymocasa == 2) {
            document.getElementById("instruccionesgym").style.display = "block";
            document.getElementById("instruccionescasa").style.display = "none";
        }
    }
    //int IdMensualidad,int IdEstatusMes,int IdDIa
    $("#dias").change(function () {
        var dia = $(this).val();
        var mens = '@Session["Mensualdiad"].ToString()';
        var estatusmes = '@Session["EstatusMensualdiad"].ToString()';
        $.ajax({
            type: "GET",
            url: urlsets,
            dataType: 'json',
            contentType: 'application/json; charset=utf-8',
            data: { "IdMensualidad": mens, "IdEstatusMes": estatusmes, "IdDIa": dia },
            success: function (data) {
                $('#ListaEjercicios tbody').empty();
                var c = data.length;
                if (c > 0) {
                    var html = '';
                    for (var i = 0; i < data.length; i++) {
                        html += '<option value="' + data[i].Tipo_set + '">' + data[i].TipoSet + '</option>';
                    }
                    $('#sets').empty();
                    $('#sets').append(html);
                    GetDetalleRutinaEjercicios();
                }
                else {
                    var html = '';
                    html += '<option value="0">No hay sets asignados</option>';
                    $('#sets').empty();
                    $('#sets').append(html);
                }
            },
            error: function (xhr, status, error) {
                console.log("Result: " + status + " " + error + " " + xhr.status + " " + xhr.statusText)
                alert("Ocurrio un error verifique su conexion (Cliente)");
            }
        });
    });

    $("#sets").change(function () {
        var set = $(this).val();
        var dia = document.getElementById("dias").value;
        var Idmensualidad = '@Session["Mensualdiad"].ToString()';
        var idmes = '@Session["EstatusMensualdiad"].ToString()';
    $.ajax({
        type: "GET",
        url: urlejercicios,
        data: { "IdMensualidad": Idmensualidad, "IdEstatusMes": idmes, "IdDIa": dia,"TipoSet":set},
        contentType: "application/json; charset=utf-8",
        datatype: "json",
        success: function (data) {
            console.log(data);
            $('#ListaEjercicios tbody').empty();
            var c = data.length;
            if (c > 0) {
                var html = '';
                var n = 1;
                var diaob = document.getElementById("dias");
                var setobt = document.getElementById("sets");
                for (var i = 0; i < data.length; i++) {
                    var ejercicio = data[i].Ejercicios;
                    var html = '';
                    html += '<tr>';
                    html += '<td>' + n + '</td> ';
                    html += '<td>' + diaob.options[diaob.selectedIndex].text+ '</td> ';
                    html += '<td>' + ejercicio.Ejercicio +'</td> ';
                    html += '<td><img class="imagenes" src="https://www.bsite.net/valerioparada/' + ejercicio.Ubicacion_imagen + '" width="200" height="200"/></td>';
                    html += '<td><label>' + ejercicio.Descripcion + '</label></td>';
                    html += '<td>' + data[i].Series+'</td> ';
                    html += '<td>' + data[i].Repeticiones+'</td> ';
                    html += '<td> ' + setobt.options[setobt.selectedIndex].text +'</td> ';
                    html += '</tr>';
                    $('#ListaEjercicios tbody').append(html);
                    n++;
                }

            }
            else {

            }
        },
        error: function (xhr, status, error) {
            console.log("Result: " + status + " " + error + " " + xhr.status + " " + xhr.statusText)
            alert("Ocurrio un error verifique su conexion (Cliente)");
        }
    });
    });

    function Getsets() {
        var dia = document.getElementById("dias").value;
        var mens = '@Session["Mensualdiad"].ToString()';
        var estatusmes = '@Session["EstatusMensualdiad"].ToString()';
        $.ajax({
            type: "GET",
            url: urlsets,
            dataType: 'json',
            contentType: 'application/json; charset=utf-8',
            data: { "IdMensualidad": mens, "IdEstatusMes": estatusmes, "IdDIa": dia },
            success: function (data) {
                var c = data.length;
                if (c > 0) {
                    var html = '';
                    for (var i = 0; i < data.length; i++) {
                        html += '<option value="' + data[i].Tipo_set + '">' + data[i].TipoSet + '</option>';
                    }
                    $('#sets').empty();
                    $('#sets').append(html);
                    GetDetalleRutinaEjercicios();
                }
                else {
                    var html = '';
                    html += '<option value="0">No hay sets asignados</option>';
                    $('#sets').empty();
                    $('#sets').append(html);
                }
            },
            error: function (xhr, status, error) {
                console.log("Result: " + status + " " + error + " " + xhr.status + " " + xhr.statusText)
                alert("Ocurrio un error verifique su conexion (Cliente)");
            }
        });
    }

    function GetDetalleRutinaEjercicios() {
        var set = document.getElementById("sets").value;
        var dia = document.getElementById("dias").value;
        var Idmensualidad = '@Session["Mensualdiad"].ToString()';
        var idmes = '@Session["EstatusMensualdiad"].ToString()';
    $.ajax({
        type: "GET",
        url: urlejercicios,
        data: { "IdMensualidad": Idmensualidad, "IdEstatusMes": idmes, "IdDIa": dia,"TipoSet":set},
        contentType: "application/json; charset=utf-8",
        datatype: "json",
        success: function (data) {
            console.log(data);
            var c = data.length;
            if (c > 0) {
                var html = '';
                var n = 1;
                var diaob = document.getElementById("dias");
                var setobt = document.getElementById("sets");
                for (var i = 0; i < data.length; i++) {
                    var ejercicio = data[i].Ejercicios;
                    var html = '';
                    html += '<tr>';
                    html += '<td>' + n + '</td> ';
                    html += '<td>' + diaob.options[diaob.selectedIndex].text+ '</td> ';
                    html += '<td>' + ejercicio.Ejercicio +'</td>';
                    html += '<td><img class="imagenes" src="https://www.bsite.net/valerioparada/' + ejercicio.Ubicacion_imagen + '" style="width:15em;" /></td>';
                    html += '<td style="text-align:left"><label>' + ejercicio.Descripcion + '</label></td>';
                    html += '<td>' + data[i].Series+'</td> ';
                    html += '<td>' + data[i].Repeticiones+'</td> ';
                    html += '<td> ' + setobt.options[setobt.selectedIndex].text +'</td> ';
                    html += '</tr>';
                    $('#ListaEjercicios tbody').append(html);
                    n++;
                }
            }
            else {

            }
        },
        error: function (xhr, status, error) {
            console.log("Result: " + status + " " + error + " " + xhr.status + " " + xhr.statusText)
            alert("Ocurrio un error verifique su conexion (Cliente)");
        }
    });
}

</script>


